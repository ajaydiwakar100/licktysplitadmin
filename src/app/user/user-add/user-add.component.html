<section class="content">
  <div class="container-fluid">
      <div class="block-header">
          <h2></h2>
      </div>

      <!-- Input -->
      <div class="row clearfix">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
              <div class="card">
                  <div class="header">
                      <h2>
                          New User

                          <button type="submit" form="userForm" class="btn btn-success m-t-1 waves-effect pull-right">Save</button>
                      </h2>
                  </div>

                  <div class="body">

                      <ul class="nav nav-tabs">
                          <li class="active"><a href="#tab-general" data-toggle="tab">General</a></li>
                          <li><a href="#tab-address" data-toggle="tab">Adress</a></li>
                      </ul>
                      <form [formGroup]="userForm" (ngSubmit)="onSubmit()" id="userForm">
                      <div class="tab-content">
                        <div class="tab-pane active" id="tab-general">


                      <h2 class="card-inside-title"></h2>
                      <div class="col-sm-12"></div>
                      <div class="row clearfix">
                          <div class="col-sm-12">
                              <div class="form-group">
                                  <div class="form-line notranslate">
                                      <input type="text" class="form-control" placeholder="Username" formControlName="userName" [ngClass]="{ 'has-error': submitted && f.userName.errors }"/>

                                  </div>
                              </div>
                          </div>
                          <div class="col-sm-12">
                              <div class="form-group">
                                  <div class="form-line notranslate">
                                      <input type="email" class="form-control" placeholder="E-Mail" formControlName="email" />
                                  </div>
                              </div>

                          </div>
                          <div class="col-sm-2">
                                <div class="form-group notranslate">
                                        <select class="form-control" formControlName="countryCode" >
                                          <option selected>+91</option>
                                          <option>+1</option>
                                          <option>+34</option>
                                          <option>+99</option>
                                        </select>
                                </div>
                            </div>
                          <div class="col-sm-10">
                              <div class="form-group">
                                  <div class="form-line notranslate">
                                      <input type="number" class="form-control" placeholder="Mobile" formControlName="mobile"/>
                                  </div>
                              </div>

                          </div>
                          <div class="col-sm-12">
                              <div class="form-group">
                                  <div class="form-line notranslate">
                                      <input type="password" class="form-control" placeholder="Password" formControlName="password"/>
                                  </div>
                              </div>

                          </div>
                          <div class="col-sm-12">
                              <div class="form-group">
                                  <div class="form-line notranslate">
                                      <input type="password" class="form-control" placeholder="Confirm Password" formControlName="confirmPassword" />
                                  </div>
                              </div>

                          </div>
                      </div>

                      </div>

                      <div class="tab-pane" id="tab-address">

                        <!-- Address -->
                        <div formArrayName="itemRows">
                            <!-- Check the correct way to iterate your form array -->
                            <div *ngFor="let itemrow of userAdd.itemRows.controls; let i=index"  [formGroupName]="i">
                              <h4>Address #{{ i + 1 }}</h4>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <div class="form-line notranslate">
                                            <input type="text" class="form-control" formControlName="flatNumber"  placeholder="Flat / House No." />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <div class="form-line notranslate">
                                            <input type="text" class="form-control" placeholder="Address" formControlName="address" />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group">
                                        <div class="form-line notranslate">
                                            <input type="text" class="form-control" placeholder="Landmark" formControlName="landmark" />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="form-group notranslate">
                                        <select class="form-control" formControlName="addressType" >
                                          <option value="" selected>Address Type</option>
                                          <option>Home</option>
                                          <option>Work</option>
                                          <option>Other</option>
                                        </select>
                                    </div>
                                </div>
                              <button *ngIf="userForm.controls.itemRows.controls.length > 1" (click)="deleteRow(i)" class="btn btn-danger">Delete Button</button>
                            </div>
                        </div>
                        <!-- <div class="col-sm-12"></div> -->
                          <button type="button" (click)="addNewRow()" class="btn btn-primary">Add new Row</button>


                        <!-- Address End -->
                      </div>
                      </div>
                      <!-- tab closed -->
                      </form>
                  </div>
              </div>
          </div>
      </div>
      <!-- #END# Input -->

  </div>
</section>
